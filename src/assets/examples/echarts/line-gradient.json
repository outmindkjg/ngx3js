{
  "visualMap": [
    {
      "show": false,
      "type": "continuous",
      "seriesIndex": 0,
      "min": 0,
      "max": 400
    },
    {
      "show": false,
      "type": "continuous",
      "seriesIndex": 1,
      "dimension": 0,
      "min": 0,
      "max": 49
    }
  ],
  "title": [
    {
      "left": "center",
      "text": "Gradient along the y axis"
    },
    {
      "top": "55%",
      "left": "center",
      "text": "Gradient along the x axis"
    }
  ],
  "tooltip": {
    "trigger": "axis"
  },
  "xAxis": [
    {
      "data": [
        "2000-06-05",
        "2000-06-06",
        "2000-06-07",
        "2000-06-08",
        "2000-06-09",
        "2000-06-10",
        "2000-06-11",
        "2000-06-12",
        "2000-06-13",
        "2000-06-14",
        "2000-06-15",
        "2000-06-16",
        "2000-06-17",
        "2000-06-18",
        "2000-06-19",
        "2000-06-20",
        "2000-06-21",
        "2000-06-22",
        "2000-06-23",
        "2000-06-24",
        "2000-06-25",
        "2000-06-26",
        "2000-06-27",
        "2000-06-28",
        "2000-06-29",
        "2000-06-30",
        "2000-07-01",
        "2000-07-02",
        "2000-07-03",
        "2000-07-04",
        "2000-07-05",
        "2000-07-06",
        "2000-07-07",
        "2000-07-08",
        "2000-07-09",
        "2000-07-10",
        "2000-07-11",
        "2000-07-12",
        "2000-07-13",
        "2000-07-14",
        "2000-07-15",
        "2000-07-16",
        "2000-07-17",
        "2000-07-18",
        "2000-07-19",
        "2000-07-20",
        "2000-07-21",
        "2000-07-22",
        "2000-07-23",
        "2000-07-24"
      ]
    },
    {
      "data": [
        "2000-06-05",
        "2000-06-06",
        "2000-06-07",
        "2000-06-08",
        "2000-06-09",
        "2000-06-10",
        "2000-06-11",
        "2000-06-12",
        "2000-06-13",
        "2000-06-14",
        "2000-06-15",
        "2000-06-16",
        "2000-06-17",
        "2000-06-18",
        "2000-06-19",
        "2000-06-20",
        "2000-06-21",
        "2000-06-22",
        "2000-06-23",
        "2000-06-24",
        "2000-06-25",
        "2000-06-26",
        "2000-06-27",
        "2000-06-28",
        "2000-06-29",
        "2000-06-30",
        "2000-07-01",
        "2000-07-02",
        "2000-07-03",
        "2000-07-04",
        "2000-07-05",
        "2000-07-06",
        "2000-07-07",
        "2000-07-08",
        "2000-07-09",
        "2000-07-10",
        "2000-07-11",
        "2000-07-12",
        "2000-07-13",
        "2000-07-14",
        "2000-07-15",
        "2000-07-16",
        "2000-07-17",
        "2000-07-18",
        "2000-07-19",
        "2000-07-20",
        "2000-07-21",
        "2000-07-22",
        "2000-07-23",
        "2000-07-24"
      ],
      "gridIndex": 1
    }
  ],
  "yAxis": [
    {},
    {
      "gridIndex": 1
    }
  ],
  "grid": [
    {
      "bottom": "60%"
    },
    {
      "top": "60%"
    }
  ],
  "series": [
    {
      "type": "line",
      "showSymbol": false,
      "data": [
        116,
        129,
        135,
        86,
        73,
        85,
        73,
        68,
        92,
        130,
        245,
        139,
        115,
        111,
        309,
        206,
        137,
        128,
        85,
        94,
        71,
        106,
        84,
        93,
        85,
        73,
        83,
        125,
        107,
        82,
        44,
        72,
        106,
        107,
        66,
        91,
        92,
        113,
        107,
        131,
        111,
        64,
        69,
        88,
        77,
        83,
        111,
        57,
        55,
        60
      ]
    },
    {
      "type": "line",
      "showSymbol": false,
      "data": [
        116,
        129,
        135,
        86,
        73,
        85,
        73,
        68,
        92,
        130,
        245,
        139,
        115,
        111,
        309,
        206,
        137,
        128,
        85,
        94,
        71,
        106,
        84,
        93,
        85,
        73,
        83,
        125,
        107,
        82,
        44,
        72,
        106,
        107,
        66,
        91,
        92,
        113,
        107,
        131,
        111,
        64,
        69,
        88,
        77,
        83,
        111,
        57,
        55,
        60
      ],
      "xAxisIndex": 1,
      "yAxisIndex": 1
    }
  ],
  "actions": [
    {
      "name": "Randomize",
      "handler": "(chart) => { const data = sharedVar.data; const newData = Utils.numbers({ count : data.length, decimals : 0, min : 0, max : 350 }); data.forEach((item, idx) => { item[1] = newData[idx]; }); sharedVar.refreshData(chart); }"
    },
    {
      "name": "Add Data",
      "handler": "(chart) => { const data = sharedVar.data; let lastDate = '2000-06-05'; if (data.length > 0) { lastDate = data[data.length - 1][0]; } data.push([ Utils.addDate(lastDate, 1), Utils.rand(0, 350)]); sharedVar.refreshData(chart);  }"
    },
    {
      "name": "Remove Data",
      "handler": "(chart) => { const data = sharedVar.data; data.pop(); sharedVar.refreshData(chart); }"
    }
  ],
  "sharedVar": {
    "data": [
      [
        "2000-06-05",
        116
      ],
      [
        "2000-06-06",
        129
      ],
      [
        "2000-06-07",
        135
      ],
      [
        "2000-06-08",
        86
      ],
      [
        "2000-06-09",
        73
      ],
      [
        "2000-06-10",
        85
      ],
      [
        "2000-06-11",
        73
      ],
      [
        "2000-06-12",
        68
      ],
      [
        "2000-06-13",
        92
      ],
      [
        "2000-06-14",
        130
      ],
      [
        "2000-06-15",
        245
      ],
      [
        "2000-06-16",
        139
      ],
      [
        "2000-06-17",
        115
      ],
      [
        "2000-06-18",
        111
      ],
      [
        "2000-06-19",
        309
      ],
      [
        "2000-06-20",
        206
      ],
      [
        "2000-06-21",
        137
      ],
      [
        "2000-06-22",
        128
      ],
      [
        "2000-06-23",
        85
      ],
      [
        "2000-06-24",
        94
      ],
      [
        "2000-06-25",
        71
      ],
      [
        "2000-06-26",
        106
      ],
      [
        "2000-06-27",
        84
      ],
      [
        "2000-06-28",
        93
      ],
      [
        "2000-06-29",
        85
      ],
      [
        "2000-06-30",
        73
      ],
      [
        "2000-07-01",
        83
      ],
      [
        "2000-07-02",
        125
      ],
      [
        "2000-07-03",
        107
      ],
      [
        "2000-07-04",
        82
      ],
      [
        "2000-07-05",
        44
      ],
      [
        "2000-07-06",
        72
      ],
      [
        "2000-07-07",
        106
      ],
      [
        "2000-07-08",
        107
      ],
      [
        "2000-07-09",
        66
      ],
      [
        "2000-07-10",
        91
      ],
      [
        "2000-07-11",
        92
      ],
      [
        "2000-07-12",
        113
      ],
      [
        "2000-07-13",
        107
      ],
      [
        "2000-07-14",
        131
      ],
      [
        "2000-07-15",
        111
      ],
      [
        "2000-07-16",
        64
      ],
      [
        "2000-07-17",
        69
      ],
      [
        "2000-07-18",
        88
      ],
      [
        "2000-07-19",
        77
      ],
      [
        "2000-07-20",
        83
      ],
      [
        "2000-07-21",
        111
      ],
      [
        "2000-07-22",
        57
      ],
      [
        "2000-07-23",
        55
      ],
      [
        "2000-07-24",
        60
      ]
    ],
    "getDateList": "() =>{ return sharedVar.data.map(function (item) { return item[0]; }) }",
    "getValueList": "() => { return sharedVar.data.map(function (item) { return item[1]; }); }",
    "refreshData": "(chart) => { const options = chart.getOption(); if (options.series.length > 0) { const visualMap = options.visualMap[1]; const dateList = sharedVar.getDateList(); visualMap.max = dateList.length -1; visualMap.range = [0, visualMap.max]; options.xAxis.forEach(xAxis => { xAxis.data = dateList; }); const valueList = sharedVar.getValueList(); options.series.forEach(series => { series.data = valueList; }); chart.setOption(options); } }"
  }
}