{
  "tooltip": {},
  "legend": {
    "data": [
      "Work",
      "Entertainment",
      "Sleep"
    ],
    "bottom": 20
  },
  "calendar": {
    "top": "middle",
    "left": "center",
    "orient": "vertical",
    "cellSize": [
      80,
      80
    ],
    "yearLabel": {
      "show": false,
      "fontSize": 30
    },
    "dayLabel": {
      "margin": 20,
      "firstDay": 1,
      "nameMap": [
        "Sun",
        "Mon",
        "Tue",
        "Wed",
        "Thu",
        "Fri",
        "Sat",
        "Sun"
      ]
    },
    "monthLabel": {
      "show": false
    },
    "range": [
      "2017-02"
    ]
  },
  "series": [
    {
      "id": "label",
      "type": "scatter",
      "coordinateSystem": "calendar",
      "symbolSize": 1,
      "label": {
        "show": true,
        "formatter": "function (params) { return echarts.format.formatTime('dd', params.value[0]); }",
        "offset": [
          -30,
          -30
        ],
        "fontSize": 14
      },
      "data": [
        [
          "2017-02-01",
          4020
        ],
        [
          "2017-02-02",
          5174
        ],
        [
          "2017-02-03",
          6823
        ],
        [
          "2017-02-04",
          1892
        ],
        [
          "2017-02-05",
          1938
        ],
        [
          "2017-02-06",
          1324
        ],
        [
          "2017-02-07",
          2307
        ],
        [
          "2017-02-08",
          3704
        ],
        [
          "2017-02-09",
          275
        ],
        [
          "2017-02-10",
          6866
        ],
        [
          "2017-02-11",
          3973
        ],
        [
          "2017-02-12",
          5261
        ],
        [
          "2017-02-13",
          8563
        ],
        [
          "2017-02-14",
          1717
        ],
        [
          "2017-02-15",
          4763
        ],
        [
          "2017-02-16",
          8170
        ],
        [
          "2017-02-17",
          5806
        ],
        [
          "2017-02-18",
          506
        ],
        [
          "2017-02-19",
          7722
        ],
        [
          "2017-02-20",
          2706
        ],
        [
          "2017-02-21",
          814
        ],
        [
          "2017-02-22",
          6481
        ],
        [
          "2017-02-23",
          7057
        ],
        [
          "2017-02-24",
          1686
        ],
        [
          "2017-02-25",
          1693
        ],
        [
          "2017-02-26",
          8529
        ],
        [
          "2017-02-27",
          3017
        ],
        [
          "2017-02-28",
          2267
        ]
      ]
    }
  ],
  "actions": [],
  "sharedVar": {
    "pieInitialized": false,
    "scatterData": [
      [
        "2017-02-01",
        4020
      ],
      [
        "2017-02-02",
        5174
      ],
      [
        "2017-02-03",
        6823
      ],
      [
        "2017-02-04",
        1892
      ],
      [
        "2017-02-05",
        1938
      ],
      [
        "2017-02-06",
        1324
      ],
      [
        "2017-02-07",
        2307
      ],
      [
        "2017-02-08",
        3704
      ],
      [
        "2017-02-09",
        275
      ],
      [
        "2017-02-10",
        6866
      ],
      [
        "2017-02-11",
        3973
      ],
      [
        "2017-02-12",
        5261
      ],
      [
        "2017-02-13",
        8563
      ],
      [
        "2017-02-14",
        1717
      ],
      [
        "2017-02-15",
        4763
      ],
      [
        "2017-02-16",
        8170
      ],
      [
        "2017-02-17",
        5806
      ],
      [
        "2017-02-18",
        506
      ],
      [
        "2017-02-19",
        7722
      ],
      [
        "2017-02-20",
        2706
      ],
      [
        "2017-02-21",
        814
      ],
      [
        "2017-02-22",
        6481
      ],
      [
        "2017-02-23",
        7057
      ],
      [
        "2017-02-24",
        1686
      ],
      [
        "2017-02-25",
        1693
      ],
      [
        "2017-02-26",
        8529
      ],
      [
        "2017-02-27",
        3017
      ],
      [
        "2017-02-28",
        2267
      ]
    ],
    "pieRadius": 30,
    "getPieSeries": "function(scatterData, chart) { return scatterData.map(function (item, index) { var center = chart.convertToPixel('calendar', item); return { id: index + 'pie', type: 'pie', center: center, label: { formatter: '{c}', position: 'inside' }, radius: sharedVar.pieRadius, data: [ { name: '工作', value: Math.round(Math.random() * 24) }, { name: '娱乐', value: Math.round(Math.random() * 24) }, { name: '睡觉', value: Math.round(Math.random() * 24) } ] }; }); }",
    "setTimeout": "function() { setTimeout (function () { sharedVar.pieInitialized = true; sharedVar.myChart.setOption({ series: sharedVar.getPieSeries(sharedVar.scatterData, sharedVar.myChart) }); }, 10); }"
  }
}