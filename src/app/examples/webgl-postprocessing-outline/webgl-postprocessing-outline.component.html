<div class="info">
	<a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> -
	Outline Pass by
	<a href="http://eduperiment.com" target="_blank" rel="noopener"
		>Prashant Sharma</a
	>
	and <a href="https://clara.io" target="_blank" rel="noopener">Ben Houston</a
	><br /><br />
</div>
<ngx3js-renderer
	[controlType]="'orbit'"
	[controlOptions]="{ enablePan: false, enableDamping: true }"
	[statsMode]="0"
	[antialias]="true"
	[shadowMapEnabled]="true"
	[guiControl]="controls"
	[guiParams]="controlsParams"
	(onRender)="onRender($event)"
	[useEvent]="'pointermove'"
	(onLoad)="setRender($event)"
	(eventListener)="onPointerMove($event)"
>
	<ngx3js-effect [scene]="scene" [camera]="camera">
		<ngx3js-pass [type]="'RenderPass'"></ngx3js-pass>
		<ngx3js-pass
			[type]="'OutlinePass'"
			[patternTexture]="texture"
			[edgeStrength]="controls.edgeStrength"
			[edgeGlow]="controls.edgeGlow"
			[edgeThickness]="controls.edgeThickness"
			[pulsePeriod]="controls.pulsePeriod"
			[usePatternTexture]="controls.usePatternTexture"
			[visibleEdgeColor]="controls.visibleEdgeColor"
			[hiddenEdgeColor]="controls.hiddenEdgeColor"
			[selectedObjects]="selectedObjects"
			(onLoad)="setOutlinePass($event)"
		></ngx3js-pass>
		<ngx3js-pass [type]="'ShaderPass'" [shader]="'FXAAShader'" [width]="1/1024" [height]="1/1024" (onLoad)="setShaderPass($event)">
		</ngx3js-pass>
	</ngx3js-effect>
	<ngx3js-lookat [x]="0" [y]="0" [z]="0"></ngx3js-lookat>
	<ngx3js-camera
		#camera
		[type]="'perspective'"
		[fov]="45"
		[near]="0.1"
		[far]="100"
		(onLoad)="setCamera($event)"
	>
		<ngx3js-position [x]="0" [y]="0" [z]="8"></ngx3js-position>
	</ngx3js-camera>
	<ngx3js-scene #scene>
		<ngx3js-light
			[type]="'AmbientLight'"
			[color]="'0xaaaaaa'"
			[intensity]="0.2"
		>
		</ngx3js-light>
		<ngx3js-light
			[type]="'DirectionalLight'"
			[color]="'0xddffdd'"
			[intensity]="0.6"
			[castShadow]="true"
			[shadowCameraLeft]="-10"
			[shadowCameraRight]="10"
			[shadowCameraTop]="10"
			[shadowCameraBottom]="-10"
			[shadowCameraFar]="1000"
			[shadowMapSize]="1024"
		>
			<ngx3js-position [x]="1" [y]="1" [z]="1"></ngx3js-position>
		</ngx3js-light>
		<ngx3js-shared>
			<ngx3js-geometry
				#geometry
				[type]="'SphereGeometry'"
				[radius]="3"
				[widthSegments]="48"
				[heightSegments]="24"
			></ngx3js-geometry>
			<ngx3js-texture
				#texture
				[image]="'textures/tri_pattern.jpg'"
				[wrap]="'repeat'"
			></ngx3js-texture>
		</ngx3js-shared>
		<ngx3js-mesh (onLoad)="setMesh($event)">
			<ngx3js-mesh [name]="'Tree'" [receiveShadow]="true" [castShadow]="true">
				<ngx3js-geometry
					[storageName]="'models/obj/tree.obj'"
					[center]="true"
				></ngx3js-geometry>
				<ngx3js-position [x]="0" [y]="1" [z]="0"></ngx3js-position>
				<ngx3js-scale [multiply]="5"></ngx3js-scale>
				<ngx3js-material
					[type]="'MeshPhongMaterial'"
					[color]="'0xffffff'"
					[specular]="'0x111111'"
					[shininess]="5"
				></ngx3js-material>
			</ngx3js-mesh>
			<ngx3js-mesh
				*ngFor="let info of sphereInfos; let idx = index"
				[name]="'Sphere ' + idx"
				[geometry]="geometry"
				[receiveShadow]="true"
				[castShadow]="true"
			>
				<ngx3js-position
					[x]="info.x"
					[y]="info.y"
					[z]="info.z"
				></ngx3js-position>
				<ngx3js-scale [multiply]="info.scale"></ngx3js-scale>
				<ngx3js-material
					[type]="'meshlambert'"
					[color]="info.color"
				></ngx3js-material>
			</ngx3js-mesh>
			<ngx3js-mesh
				#torus
				[name]="'Torus'"
				[receiveShadow]="true"
				[castShadow]="true"
			>
				<ngx3js-position [x]="0" [y]="0" [z]="-4"></ngx3js-position>
				<ngx3js-geometry
					[type]="'TorusGeometry'"
					[radius]="1"
					[tube]="0.3"
					[radialSegments]="16"
					[tubularSegments]="100"
				></ngx3js-geometry>
				<ngx3js-material
					[type]="'MeshPhongMaterial'"
					[color]="'0xffaaff'"
				></ngx3js-material>
			</ngx3js-mesh>
		</ngx3js-mesh>
		<ngx3js-mesh #plane [receiveShadow]="true">
			<ngx3js-position [x]="0" [y]="-1.5" [z]="0"></ngx3js-position>
			<ngx3js-rotation [x]="-90" [y]="0" [z]="0"></ngx3js-rotation>
			<ngx3js-geometry
				[type]="'Plane'"
				[width]="12"
				[height]="12"
			></ngx3js-geometry>
			<ngx3js-material
				[type]="'MeshLambertMaterial'"
				[side]="'double'"
			></ngx3js-material>
		</ngx3js-mesh>
	</ngx3js-scene>
</ngx3js-renderer>
