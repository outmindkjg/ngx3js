<div class="info dark">
  <a href="https://threejs.org" target="_blank" rel="noopener">three.js</a> webgl - skinning and morphing<br />
  <p>
    The animation system allows clips to be played individually, looped, or crossfaded with other clips. <br>
    This example shows a character looping in one of several base animation states, then transitioning smoothly to one-time actions. <br>
    Facial expressions are controlled independently with morph targets.
  </p>
  Model by
  <a href="https://www.patreon.com/quaternius" target="_blank" rel="noopener">Tomás Laulhé</a>,
  modifications by <a href="https://donmccurdy.com/" target="_blank" rel="noopener">Don McCurdy</a>. CC0.<br />
</div>
<ngx3js-renderer [controlType]="'orbit'" [controlOptions]="{ enablePan : false , enableDamping : true }" [statsMode]="0" [antialias]="true" [clearColor]="'0xffffff'" [shadowMapEnabled]="true" [guiControl]="controls" [guiParams]="controlsParams" (onRender)="onRender($event)">
  <ngx3js-lookat [x]="0" [y]="2" [z]="0"></ngx3js-lookat>
  <ngx3js-camera [type]="'perspective'" [fov]="45" [near]="0.25" [far]="100">
      <ngx3js-position [x]="-5" [y]="3" [z]="10"></ngx3js-position>
  </ngx3js-camera>
  <ngx3js-scene #scene [background]="'0xe0e0e0'">
      <ngx3js-fog [color]="'0xe0e0e0'" [near]="20" [far]="100"></ngx3js-fog>
      <ngx3js-mesh 
        [type]="'light'" 
        [lightOptions]="{
          type : 'Hemisphere',
          skyColor : '0xffffff',
          groundColor : '0x444444'
        }"
      >
        <ngx3js-position [x]="0" [y]="20" [z]="0"></ngx3js-position>
      </ngx3js-mesh>
      <ngx3js-mesh [type]="'light'" 
        [lightOptions]="{
          type : 'directional',
          color : '0xffffff',
          intensity :1,
          shadowCameraTop :5,
          shadowCameraBottom:-5,
          shadowCameraLeft:-5,
          shadowCameraRight:5,
          shadowCameraNear:0.1,
          shadowCameraFar:40
        }"
        [castShadow]="true"
        >
          <ngx3js-position [x]="0" [y]="20" [z]="10"></ngx3js-position>
      </ngx3js-mesh>
      <ngx3js-mesh (onLoad)="setMesh($event)"  [storageName]="'models/gltf/RobotExpressive/RobotExpressive.glb'">
          <ngx3js-position [x]="0" [y]="0" [z]="0"></ngx3js-position>
          <ngx3js-mixer [action]="controls.status" (onLoad)="setMixer($event)">
            <ngx3js-clip [name]="'Idle'" ></ngx3js-clip>
            <ngx3js-clip [name]="'Walking'"></ngx3js-clip>
            <ngx3js-clip [name]="'Running'"></ngx3js-clip>
            <ngx3js-clip [name]="'Dance'"></ngx3js-clip>
            <ngx3js-clip [name]="'Death'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'Sitting'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'Standing'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'Jump'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'Yes'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'No'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'Wave'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'Punch'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
            <ngx3js-clip [name]="'ThumbsUp'" [clampWhenFinished]="true" [loop]="'once'"></ngx3js-clip>
          </ngx3js-mixer>
      </ngx3js-mesh>
      <ngx3js-helper 
        [type]="'grid'"
        [size]="200"
        [divisions]="40"
        [color1]="'0x000000'"
        [color2]="'0x000000'"
        [opacity]="0.2"
      ></ngx3js-helper>
      <ngx3js-mesh [receiveShadow]="true">
        <ngx3js-position [x]="0" [y]="0" [z]="0"></ngx3js-position>
        <ngx3js-rotation [x]="-90" [y]="0" [z]="0"></ngx3js-rotation>
        <ngx3js-geometry [type]="'Plane'" [width]="2000" [height]="2000"></ngx3js-geometry>
        <ngx3js-material [type]="'MeshPhong'" [color]="'0x999999'" [depthWrite]="false"></ngx3js-material>
    </ngx3js-mesh>
  </ngx3js-scene>
</ngx3js-renderer>
